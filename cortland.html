<input type="file" id="fileInput" multiple accept="image/*,video/*" />
<button id="uploadBtn">Upload Files</button>

<script>
  const fileInput = document.getElementById('fileInput');
  const uploadBtn = document.getElementById('uploadBtn');

  uploadBtn.addEventListener('click', async () => {
    const files = fileInput.files;
    if (!files.length) {
      alert("Please select some files first.");
      return;
    }

    for (const file of files) {
      // Replace YOUR_API_GATEWAY_URL with your actual Lambda API Gateway endpoint
      const response = await fetch(`https://ph26vu7s8l.execute-api.us-east-2.amazonaws.com/default/c-g?filename=${encodeURIComponent(file.name)}`);
      const { uploadURL } = await response.json();

      const uploadResponse = await fetch(uploadURL, {
        method: 'PUT',
        body: file,
        headers: {
          'Content-Type': file.type
        }
      });

      if (uploadResponse.ok) {
        console.log(`${file.name} uploaded successfully.`);
      } else {
        console.error(`Failed to upload ${file.name}`);
      }
    }
    alert("Upload complete!");
  });
</script>